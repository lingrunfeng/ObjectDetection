# ğŸ“¦ å¦‚ä½•æ·»åŠ æ–°ç±»åˆ«åˆ°æ¨¡å‹

## âœ… å¥½æ¶ˆæ¯ï¼šæ·»åŠ æ–°ç±»åˆ«éå¸¸ç®€å•ï¼

æŒ‰å½¢çŠ¶åˆ†ç±»çš„è®¾è®¡è®©æ·»åŠ æ–°ç±»åˆ«å˜å¾—éå¸¸å®¹æ˜“ã€‚ä½ åªéœ€è¦ï¼š

1. **æ›´æ–°é…ç½®æ–‡ä»¶**ï¼ˆ2ä¸ªæ–‡ä»¶ï¼‰
2. **æ ‡æ³¨æ–°æ•°æ®**ï¼ˆä½¿ç”¨æ–°ç±»åˆ«åç§°ï¼‰
3. **é‡æ–°è®­ç»ƒæ¨¡å‹**

## ğŸ”§ æ·»åŠ æ–°ç±»åˆ«çš„æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ›´æ–°é…ç½®æ–‡ä»¶

#### 1.1 æ›´æ–° `classes.txt`

åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ æ–°ç±»åˆ«åç§°ï¼Œä¾‹å¦‚æ·»åŠ æ¢¯å½¢ï¼ˆtrapezoidï¼‰ï¼š

```bash
# ç¼–è¾‘ classes.txt
nano /home/student26/ObjectDetection/dataset/classes.txt
```

**ä¹‹å‰**ï¼š
```
cube
cylinder
```

**æ·»åŠ æ¢¯å½¢å**ï¼š
```
cube
cylinder
trapezoid
```

#### 1.2 æ›´æ–° `data.yaml`

ä¿®æ”¹ç±»åˆ«æ•°é‡å’Œç±»åˆ«åç§°åˆ—è¡¨ï¼š

```bash
# ç¼–è¾‘ data.yaml
nano /home/student26/ObjectDetection/dataset/data.yaml
```

**ä¹‹å‰**ï¼š
```yaml
nc: 2
names:
  0: cube
  1: cylinder
```

**æ·»åŠ æ¢¯å½¢å**ï¼š
```yaml
nc: 3
names:
  0: cube
  1: cylinder
  2: trapezoid
```

**é‡è¦**ï¼šç±»åˆ«ç¼–å·å¿…é¡»ä» 0 å¼€å§‹è¿ç»­é€’å¢ï¼Œä¸”é¡ºåºå¿…é¡»ä¸ `classes.txt` ä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´ï¼

### ç¬¬äºŒæ­¥ï¼šå‡†å¤‡æ–°æ•°æ®

1. **æ‹ç…§**ï¼šæ‹æ‘„åŒ…å«æ–°ç±»åˆ«ï¼ˆå¦‚æ©™è‰²/é»‘è‰²åœ†æŸ±ã€æ¢¯å½¢ç­‰ï¼‰çš„å›¾ç‰‡
2. **æ·»åŠ åˆ°æ•°æ®é›†**ï¼š
   ```bash
   # å°†æ–°å›¾ç‰‡å¤åˆ¶åˆ°è®­ç»ƒé›†å’ŒéªŒè¯é›†
   cp new_images/*.png /home/student26/ObjectDetection/dataset/images/train/
   cp new_val_images/*.png /home/student26/ObjectDetection/dataset/images/val/
   ```

### ç¬¬ä¸‰æ­¥ï¼šæ ‡æ³¨æ–°æ•°æ®

ä½¿ç”¨ labelme æˆ– labelImg æ ‡æ³¨æ–°å›¾ç‰‡ï¼š

```bash
# æ ‡æ³¨è®­ç»ƒé›†
cd /home/student26/ObjectDetection/dataset
./start_labelme_train.sh
# æˆ–
./start_labeling_train.sh
```

**æ ‡æ³¨æ—¶**ï¼š
- å¯¹äºæ–°å½¢çŠ¶ï¼ˆå¦‚æ¢¯å½¢ï¼‰ï¼Œä½¿ç”¨æ–°ç±»åˆ«åç§°ï¼š`trapezoid`
- å¯¹äºå·²æœ‰å½¢çŠ¶çš„æ–°é¢œè‰²ï¼ˆå¦‚æ©™è‰²åœ†æŸ±ï¼‰ï¼Œä»ç„¶ä½¿ç”¨ï¼š`cylinder`ï¼ˆå› ä¸ºæŒ‰å½¢çŠ¶åˆ†ç±»ï¼‰

### ç¬¬å››æ­¥ï¼šè½¬æ¢æ ‡æ³¨æ ¼å¼ï¼ˆå¦‚æœä½¿ç”¨ labelmeï¼‰

```bash
# è½¬æ¢è®­ç»ƒé›†
python3 labelme_to_yolo.py lables/train lables/train images/train

# è½¬æ¢éªŒè¯é›†
python3 labelme_to_yolo.py lables/val lables/val images/val
```

### ç¬¬äº”æ­¥ï¼šéªŒè¯æ•°æ®é›†

```bash
./check_labels.sh
./verify_dataset.sh
```

### ç¬¬å…­æ­¥ï¼šé‡æ–°è®­ç»ƒæ¨¡å‹

```bash
./start_training.sh
```

## ğŸ“ ç¤ºä¾‹ï¼šæ·»åŠ æ©™è‰²åœ†æŸ±å’Œæ¢¯å½¢

å‡è®¾ä½ æƒ³æ·»åŠ ï¼š
- æ©™è‰²åœ†æŸ±ï¼ˆorange cylinderï¼‰
- é»‘è‰²åœ†æŸ±ï¼ˆblack cylinderï¼‰
- æ¢¯å½¢ï¼ˆtrapezoidï¼‰

### æ­¥éª¤ï¼š

1. **æ›´æ–° `classes.txt`**ï¼š
   ```
   cube
   cylinder
   trapezoid
   ```

2. **æ›´æ–° `data.yaml`**ï¼š
   ```yaml
   nc: 3
   names:
     0: cube
     1: cylinder      # åŒ…æ‹¬æ‰€æœ‰é¢œè‰²çš„åœ†æŸ±ï¼ˆé»„è‰²/æ©™è‰²/é»‘è‰²ç­‰ï¼‰
     2: trapezoid
   ```

3. **æ ‡æ³¨æ—¶**ï¼š
   - æ©™è‰²åœ†æŸ± â†’ æ ‡æ³¨ä¸º `cylinder`
   - é»‘è‰²åœ†æŸ± â†’ æ ‡æ³¨ä¸º `cylinder`
   - æ¢¯å½¢ â†’ æ ‡æ³¨ä¸º `trapezoid`

4. **é‡æ–°è®­ç»ƒ**ï¼šæ¨¡å‹ä¼šè‡ªåŠ¨å­¦ä¹ è¯†åˆ«æ–°çš„å½¢çŠ¶ç±»åˆ«

## ğŸ’¡ é‡è¦æç¤º

### âœ… ä¼˜åŠ¿ï¼šæŒ‰å½¢çŠ¶åˆ†ç±»

- **ä¸åŒºåˆ†é¢œè‰²**ï¼šæ©™è‰²åœ†æŸ±å’Œé»„è‰²åœ†æŸ±éƒ½æ ‡æ³¨ä¸º `cylinder`ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨å­¦ä¹ è¯†åˆ«ä¸åŒé¢œè‰²
- **æ˜“æ‰©å±•**ï¼šæ·»åŠ æ–°å½¢çŠ¶åªéœ€åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œ
- **æ›´é€šç”¨**ï¼šæ¨¡å‹ä¸ä¾èµ–ç‰¹å®šé¢œè‰²ï¼Œé€‚åº”ä¸åŒå…‰ç…§æ¡ä»¶

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç±»åˆ«é¡ºåºå¿…é¡»ä¸€è‡´**ï¼š`classes.txt` å’Œ `data.yaml` ä¸­çš„ç±»åˆ«é¡ºåºå¿…é¡»å®Œå…¨ä¸€è‡´
2. **ç±»åˆ«ç¼–å·ä» 0 å¼€å§‹**ï¼šå¿…é¡»æ˜¯ 0, 1, 2, 3... è¿ç»­é€’å¢
3. **é‡æ–°è®­ç»ƒ**ï¼šæ·»åŠ æ–°ç±»åˆ«åå¿…é¡»é‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨æ—§æ¨¡å‹
4. **æ•°æ®å¹³è¡¡**ï¼šå°½é‡è®©æ¯ä¸ªç±»åˆ«çš„è®­ç»ƒæ ·æœ¬æ•°é‡ç›¸å¯¹å¹³è¡¡

## ğŸ”„ è¿ç§»å­¦ä¹ ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³åœ¨å·²æœ‰æ¨¡å‹åŸºç¡€ä¸Šç»§ç»­è®­ç»ƒï¼ˆè€Œä¸æ˜¯ä»å¤´å¼€å§‹ï¼‰ï¼Œå¯ä»¥ï¼š

```bash
# ä½¿ç”¨ä¹‹å‰è®­ç»ƒå¥½çš„æ¨¡å‹ä½œä¸ºèµ·ç‚¹
python3 train_yolo.py \
  --weights /home/student26/ObjectDetection/dataset/runs/detect/blocks_detection2/weights/best.pt \
  --data data.yaml \
  --epochs 100
```

è¿™æ ·å¯ä»¥ï¼š
- æ›´å¿«æ”¶æ•›
- ä¿ç•™å¯¹æ—§ç±»åˆ«çš„è¯†åˆ«èƒ½åŠ›
- åªéœ€å­¦ä¹ æ–°ç±»åˆ«

## ğŸ“Š éªŒè¯æ–°ç±»åˆ«

è®­ç»ƒå®Œæˆåï¼Œæ£€æŸ¥ç»“æœï¼š

```bash
# æŸ¥çœ‹è®­ç»ƒç»“æœ
ls -la runs/detect/*/weights/best.pt

# ä½¿ç”¨éªŒè¯è„šæœ¬
python3 validate_training.py
```

## ğŸ¯ æ€»ç»“

æ·»åŠ æ–°ç±»åˆ«éå¸¸ç®€å•ï¼š
1. âœ… æ›´æ–° 2 ä¸ªé…ç½®æ–‡ä»¶ï¼ˆ`classes.txt` å’Œ `data.yaml`ï¼‰
2. âœ… æ ‡æ³¨æ–°æ•°æ®ï¼ˆä½¿ç”¨æ–°ç±»åˆ«åç§°ï¼‰
3. âœ… é‡æ–°è®­ç»ƒæ¨¡å‹

æ•´ä¸ªè¿‡ç¨‹é€šå¸¸åªéœ€è¦å‡ åˆ†é’Ÿé…ç½®ï¼Œç„¶åå°±æ˜¯æ ‡æ³¨å’Œè®­ç»ƒçš„æ—¶é—´ã€‚



